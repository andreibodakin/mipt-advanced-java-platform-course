
# üß© –õ–µ–∫—Ü–∏—è 2 ‚Äî –ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã, –∫–ª–∞—Å—Å—ã-–æ–±—ë—Ä—Ç–∫–∏, –ü–∞–∫–µ—Ç—ã Java, Object, equals/hashCode

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã

- –ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ Java (–≤–∫–ª—é—á–∞—è —Ä–∞–∑–º–µ—Ä –≤ –±–∏—Ç–∞—Ö)
- –ö–ª–∞—Å—Å—ã-–æ–±—ë—Ä—Ç–∫–∏ (Wrapper Classes)
- –ê–≤—Ç–æ–±–æ–∫—Å–∏–Ω–≥ –∏ –∞–≤—Ç–æ—Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞
- –ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é
- –ü–∞–∫–µ—Ç—ã: `java.lang`, `java.util`, `java.io`
- –ö–ª–∞—Å—Å `Object` ‚Äî –∫–æ—Ä–µ–Ω—å –∏–µ—Ä–∞—Ä—Ö–∏–∏
- –ö–æ–Ω—Ç—Ä–∞–∫—Ç `equals()` –∏ `hashCode()`
- –ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏—Ö –≤–º–µ—Å—Ç–µ
- –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ (overflow) –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤
- `BigDecimal` ‚Äî —Ç–æ—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (–¥–ª—è –¥–µ–Ω–µ–≥)
- `StringBuilder` ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏ –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã

---

## üî¢ –ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

–í Java 8 –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤. –†–∞–∑–º–µ—Ä —É–∫–∞–∑–∞–Ω –≤ **–±–∏—Ç–∞—Ö –∏ –±–∞–π—Ç–∞—Ö**.

| –¢–∏–ø      | –†–∞–∑–º–µ—Ä (–±–∏—Ç—ã) | –†–∞–∑–º–µ—Ä (–±–∞–π—Ç—ã) | –î–∏–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω–∏–π               | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|---------------|----------------|----------------------------------|------------------------|
| `byte`   | 8 –±–∏—Ç         | 1 –±–∞–π—Ç         | -128 –¥–æ 127                     | `0`                   |
| `short`  | 16 –±–∏—Ç        | 2 –±–∞–π—Ç–∞        | -32768 –¥–æ 32767                 | `0`                   |
| `int`    | 32 –±–∏—Ç–∞       | 4 –±–∞–π—Ç–∞        | -2^31 –¥–æ 2^31-1                 | `0`                   |
| `long`   | 64 –±–∏—Ç–∞       | 8 –±–∞–π—Ç         | -2^63 –¥–æ 2^63-1                 | `0L`                  |
| `float`  | 32 –±–∏—Ç–∞       | 4 –±–∞–π—Ç–∞        | ¬±3.4e38 (7 –∑–Ω–∞–∫–æ–≤)              | `0.0f`                |
| `double` | 64 –±–∏—Ç–∞       | 8 –±–∞–π—Ç         | ¬±1.7e308 (15 –∑–Ω–∞–∫–æ–≤)            | `0.0d`                |
| `char`   | 16 –±–∏—Ç        | 2 –±–∞–π—Ç–∞        | `\u0000` –¥–æ `\uffff` (Unicode)  | `\u0000`              |
| `boolean`| –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω* | –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω*  | `true` / `false`                | `false`               |

> üí° `*` ‚Äî —Ä–∞–∑–º–µ—Ä `boolean` –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π JVM ‚Äî –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –û–±—ã—á–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ `int` (32 –±–∏—Ç–∞) –≤–Ω—É—Ç—Ä–∏.

---

## üì¶ –ö–ª–∞—Å—Å—ã-–æ–±—ë—Ä—Ç–∫–∏ (Wrapper Classes)

–ö–∞–∂–¥—ã–π –ø—Ä–∏–º–∏—Ç–∏–≤ –∏–º–µ–µ—Ç –æ–±—ä–µ–∫—Ç–Ω—ã–π –∞–Ω–∞–ª–æ–≥:

| –ü—Ä–∏–º–∏—Ç–∏–≤ | –ö–ª–∞—Å—Å-–æ–±—ë—Ä—Ç–∫–∞ |
|----------|----------------|
| `int`    | `Integer`      |
| `long`   | `Long`         |
| `double` | `Double`       |
| `boolean`| `Boolean`      |
| `char`   | `Character`    |
| ...      | ...            |

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã?
- –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö (`List<Integer>`, –∞ –Ω–µ `List<int>`).
- –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `null`.
- –î–ª—è –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–æ–≤: `Integer.parseInt()`, `Character.isDigit()` –∏ —Ç.–¥.

---

## üîÑ –ê–≤—Ç–æ–±–æ–∫—Å–∏–Ω–≥ –∏ –∞–≤—Ç–æ—Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞

‚Üí **–ê–≤—Ç–æ–±–æ–∫—Å–∏–Ω–≥** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤–∞ –≤ –æ–±—ä–µ–∫—Ç.  
‚Üí **–ê–≤—Ç–æ—Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞** ‚Äî –Ω–∞–æ–±–æ—Ä–æ—Ç.

```java
Integer a = 10;        // ‚Üê –∞–≤—Ç–æ–±–æ–∫—Å–∏–Ω–≥: int ‚Üí Integer
int b = a;             // ‚Üê –∞–≤—Ç–æ—Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞: Integer ‚Üí int

List<Integer> list = new ArrayList<>();
list.add(5);           // ‚Üê –∞–≤—Ç–æ–±–æ–∫—Å–∏–Ω–≥
int first = list.get(0); // ‚Üê –∞–≤—Ç–æ—Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞
```

‚ö†Ô∏è **–û—Å—Ç–æ—Ä–æ–∂–Ω–æ —Å `null`!**

```java
Integer x = null;
int y = x; // ‚Üê NullPointerException!
```

‚Üí –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π –Ω–∞ `null` –ø–µ—Ä–µ–¥ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–æ–π.

---

## üì• –ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é

> ‚ùó **–í Java –≤—Å—ë –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é ‚Äî –¥–∞–∂–µ –æ–±—ä–µ–∫—Ç—ã!**

‚Üí –ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –æ–±—ä–µ–∫—Ç–∞ ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è **—Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç**, –∞ –Ω–µ —Å–∞–º –æ–±—ä–µ–∫—Ç.

### –ü—Ä–∏–º–µ—Ä:

```java
public static void main(String[] args) {
    Person p = new Person("Alice");
    changeName(p);
    System.out.println(p.name); // ‚Üí "Bob"
}

static void changeName(Person person) {
    person.name = "Bob"; // ‚Üê –∏–∑–º–µ–Ω—è–µ–º –æ–±—ä–µ–∫—Ç –ø–æ —Å—Å—ã–ª–∫–µ
}
```

‚Üí –û–±—ä–µ–∫—Ç –∏–∑–º–µ–Ω–∏–ª—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã **–∏–∑–º–µ–Ω—è–ª–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Å—ã–ª–∫–µ**.

### –ù–æ:

```java
static void reassign(Person person) {
    person = new Person("Charlie"); // ‚Üê –ø–µ—Ä–µ–ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º —Å—Å—ã–ª–∫—É ‚Äî –æ—Ä–∏–≥–∏–Ω–∞–ª –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è!
}
```

‚Üí –ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ `reassign(p)` ‚Äî `p.name` –≤—Å—ë –µ—â—ë `"Alice"`.

---

## üìÇ –ü–∞–∫–µ—Ç—ã Java

–ü–∞–∫–µ—Ç—ã ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω –¥–ª—è –∫–ª–∞—Å—Å–æ–≤.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:

- `java.lang` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è (`String`, `Object`, `System`, `Math`).
- `java.util` ‚Äî –∫–æ–ª–ª–µ–∫—Ü–∏–∏, –¥–∞—Ç–∞/–≤—Ä–µ–º—è, Scanner, Random.
- `java.io` ‚Äî –≤–≤–æ–¥/–≤—ã–≤–æ–¥, —Ñ–∞–π–ª—ã.
- `java.time` ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞—Ç—ã (Java 8+).

### –ò–º–ø–æ—Ä—Ç:

```java
import java.util.List;
import java.util.ArrayList;
import java.time.LocalDate;

// –ò–ª–∏ –∏–º–ø–æ—Ä—Ç –≤—Å–µ–≥–æ –ø–∞–∫–µ—Ç–∞:
import java.util.*;
```

> üí° `*` ‚Äî –Ω–µ –Ω–∞–≥—Ä—É–∂–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ç–æ–ª—å–∫–æ —É–ø—Ä–æ—â–∞–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞.

---

## üß¨ –ö–ª–∞—Å—Å `Object` ‚Äî –∫–æ—Ä–µ–Ω—å –∏–µ—Ä–∞—Ä—Ö–∏–∏

‚Üí –ö–æ—Ä–Ω–µ–≤–æ–π –∫–ª–∞—Å—Å –≤—Å–µ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ –≤ Java.  
‚Üí –õ—é–±–æ–π –∫–ª–∞—Å—Å ‚Äî –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ `Object` (—è–≤–Ω–æ –∏–ª–∏ –Ω–µ—è–≤–Ω–æ).

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

- `toString()` ‚Äî —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞.
- `equals(Object obj)` ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤.
- `hashCode()` ‚Äî —Ö–µ—à-–∫–æ–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞—Ö.
- `getClass()` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∫–ª–∞—Å—Å –æ–±—ä–µ–∫—Ç–∞.
- `clone()` ‚Äî –Ω–µ–≥–ª—É–±–æ–∫–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!).
- `finalize()` ‚Äî –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º, deprecated (Java 9+).

---

## 1.1.1 `equals`

```java
public boolean equals(@Nullable Object obj)
```

> ‚öñÔ∏è **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Ä–∞–≤–Ω—ã –ª–∏ –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ *–ª–æ–≥–∏—á–µ—Å–∫–∏* (–ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É), –∞ –Ω–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ (–ø–æ —Å—Å—ã–ª–∫–µ).

### üìå –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

‚Üí –í –∫–ª–∞—Å—Å–µ `Object` –º–µ—Ç–æ–¥ `equals()` —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç **—Å—Å—ã–ª–∫–∏**:

```java
Object a = new Object();
Object b = new Object();
System.out.println(a.equals(b)); // false ‚Äî —Ä–∞–∑–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
```

‚Üí –≠—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ `a == b`.

---

### ‚úçÔ∏è –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

‚Üí –í –ø–æ–¥–∫–ª–∞—Å—Å–∞—Ö `equals()` **—á–∞—Å—Ç–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç**, —á—Ç–æ–±—ã —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –ø–æ –ø–æ–ª—è–º:

```java
@Override
public boolean equals(Object o) {
    if (this == o) return true;
    if (o == null || getClass() != o.getClass()) return false;
    Person person = (Person) o;
    return Objects.equals(name, person.name) &&
           Objects.equals(age, person.age);
}
```

---

### üìê –ö–æ–Ω—Ç—Ä–∞–∫—Ç `equals()`

–î–ª—è **–Ω–µ–Ω—É–ª–µ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤** –º–µ—Ç–æ–¥ `equals()` –¥–æ–ª–∂–µ–Ω –∑–∞–¥–∞–≤–∞—Ç—å **–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏**:

1. **–†–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω–æ—Å—Ç—å**: `x.equals(x)` ‚Üí `true`
2. **–°–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ—Å—Ç—å**: –µ—Å–ª–∏ `x.equals(y) == true`, —Ç–æ `y.equals(x) == true`
3. **–¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ—Å—Ç—å**: –µ—Å–ª–∏ `x.equals(y) == true` –∏ `y.equals(z) == true`, —Ç–æ `x.equals(z) == true`
4. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ –º–µ–Ω—è–ª–∏—Å—å, —Ç–æ `x.equals(y)` –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö.
5. **–î–ª—è –ª—é–±–æ–≥–æ –Ω–µ–Ω—É–ª–µ–≤–æ–≥–æ `x`**: `x.equals(null) == false`

> üí° –ù–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ ‚Üí –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö (`HashSet`, `HashMap` –∏ –¥—Ä.).

---

## 1.1.2 `hashCode`

```java
public native int hashCode();
```

> üßÆ **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–π —Ö–µ—à-–∫–æ–¥ –æ–±—ä–µ–∫—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ö–µ—à-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö: `HashMap`, `HashSet`, `HashTable` –∏ –¥—Ä.

---

### üìú –ö–æ–Ω—Ç—Ä–∞–∫—Ç `hashCode()`

1. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ –º–µ–Ω—è–ª–∏—Å—å, `hashCode()` –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å **–æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ** –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ.
2. **–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å `equals()`**: –µ—Å–ª–∏ `x.equals(y) == true`, —Ç–æ `x.hashCode() == y.hashCode()` ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**.
3. **–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ**: –µ—Å–ª–∏ `x.equals(y) == false`, —Ç–æ `x.hashCode()` –∏ `y.hashCode()` **–º–æ–≥—É—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å** ‚Äî —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **–∫–æ–ª–ª–∏–∑–∏—è —Ö–µ—à–µ–π** (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Ö–µ—à-—Ç–∞–±–ª–∏—Ü).

---

### üèóÔ∏è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

‚Üí –í —Ä–∞–Ω–Ω–∏—Ö –≤–µ—Ä—Å–∏—è—Ö JVM `hashCode()` –≤–æ–∑–≤—Ä–∞—â–∞–ª **–∞–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞ –≤ –ø–∞–º—è—Ç–∏**.

‚Üí **–°–µ–π—á–∞—Å** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–ø—Å–µ–≤–¥–æ—Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ**, –∫–æ—Ç–æ—Ä–æ–µ:
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ `hashCode()`.
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ **–∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ–±—ä–µ–∫—Ç–∞** (object header).
- **–ù–µ –º–µ–Ω—è–µ—Ç—Å—è** –≤ —Ç–µ—á–µ–Ω–∏–µ –∂–∏–∑–Ω–∏ –æ–±—ä–µ–∫—Ç–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞.

> üí° –ü–æ—á–µ–º—É –∏–∑–º–µ–Ω–∏–ª–∏?  
> ‚Äî –ü—Ä–∏ –º–∞–ª–µ–Ω—å–∫–æ–º heap-–µ –∞–¥—Ä–µ—Å–∞ –±—ã–ª–∏ –±–ª–∏–∑–∫–∏ ‚Üí —Ö–µ—à–∏ –±—ã–ª–∏ –Ω–µ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω—ã ‚Üí **—É—Ö—É–¥—à–∞–ª–∞—Å—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ö–µ—à-—Ç–∞–±–ª–∏—Ü**.  
> ‚Äî –ù–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—ë—Ç **–ª—É—á—à–µ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ö–µ—à–µ–π** ‚Üí –º–µ–Ω—å—à–µ –∫–æ–ª–ª–∏–∑–∏–π ‚Üí –±—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞ `HashMap`.

---

### ‚ö†Ô∏è –ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å `hashCode()` –≤–º–µ—Å—Ç–µ —Å `equals()`

‚Üí –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã –ø–æ–ª–æ–∂–∏–ª –æ–±—ä–µ–∫—Ç –≤ `HashMap`, –∞ –ø–æ—Ç–æ–º –∏–∑–º–µ–Ω–∏–ª –ø–æ–ª–µ, —É—á–∞—Å—Ç–≤—É—é—â–µ–µ –≤ `equals()`, –Ω–æ –Ω–µ –æ–±–Ω–æ–≤–∏–ª `hashCode()`:

```java
Person p = new Person("Alice");
map.put(p, "value");

p.setName("Bob"); // ‚Üê –∏–∑–º–µ–Ω–∏–ª–∏ –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ equals/hashCode

map.get(p); // ‚Üí null! –ü–æ—Ç–æ–º—É —á—Ç–æ hashCode –∏–∑–º–µ–Ω–∏–ª—Å—è, –∞ HashMap –∏—â–µ—Ç –≤ –¥—Ä—É–≥–æ–π "–∫–æ—Ä–∑–∏–Ω–µ".
```

‚Üí **–†–µ—à–µ–Ω–∏–µ**: –ø–æ–ª—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ `equals()` –∏ `hashCode()`, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **–Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ (immutable)**.

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

### –°–ø–æ—Å–æ–± 1: –í—Ä—É—á–Ω—É—é

```java
@Override
public boolean equals(Object o) {
    if (this == o) return true;
    if (o == null || getClass() != o.getClass()) return false;
    Person person = (Person) o;
    return Objects.equals(name, person.name) &&
           Objects.equals(age, person.age);
}

@Override
public int hashCode() {
    return Objects.hash(name, age);
}
```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ Lombok (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

```java
@EqualsAndHashCode
public class Person {
    private String name;
    private Integer age;
}
```

### –°–ø–æ—Å–æ–± 3: –í IntelliJ IDEA ‚Üí `Alt + Insert` ‚Üí `equals() and hashCode()`

‚Üí IDE —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∫–æ–¥.

```java
@Override
public boolean equals(Object o) {
    if (this == o) return true;
    if (o == null || getClass() != o.getClass()) return false;
    Person person = (Person) o;
    return Objects.equals(name, person.name) &&
           Objects.equals(age, person.age);
}

@Override
public int hashCode() {
    return Objects.hash(name, age);
}
```

> üí° `Objects.hash(...)` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `null` –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ö–æ—Ä–æ—à–∏–π —Ö–µ—à –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ–π.

---

## üö´ –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `==` –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ ‚Üí —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è —Å—Å—ã–ª–∫–∏, –∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.
- –ó–∞–±—ã–ª–∏ `@Override` ‚Üí –º–æ–∂–Ω–æ —Å–ª—É—á–∞–π–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É, –∞ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ.
- –ù–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ `hashCode()` ‚Üí –ø—Ä–æ–±–ª–µ–º—ã —Å `HashMap`.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è –≤ `hashCode()` ‚Üí –æ–±—ä–µ–∫—Ç "—Å–ª–æ–º–∞–µ—Ç—Å—è" –≤ `HashSet`, –µ—Å–ª–∏ –ø–æ–ª–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `float`/`double` –≤ `hashCode()` –±–µ–∑ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è ‚Üí –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏–∑-–∑–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏.

---

## üí° –°–æ–≤–µ—Ç—ã

- –í—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–π `equals()` –∏ `hashCode()` **–≤–º–µ—Å—Ç–µ**.
- –ò—Å–ø–æ–ª—å–∑—É–π `java.util.Objects` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ —á–∏—Ç–∞–µ–º–æ.
- –í IntelliJ IDEA: `Alt + Insert` ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤ ‚Äî —ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è.
- –¢–µ—Å—Ç–∏—Ä—É–π –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ `HashMap` ‚Äî —ç—Ç–æ —á–∞—Å—Ç—ã–π –≤–æ–ø—Ä–æ—Å –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è—Ö.
- –ü–æ–ª—è –≤ `hashCode()` –∏ `equals()` ‚Äî –ª—É—á—à–µ –¥–µ–ª–∞—Ç—å `final`.


---

## ‚öñÔ∏è –ö–æ–Ω—Ç—Ä–∞–∫—Ç `equals()` –∏ `hashCode()`

> –ï—Å–ª–∏ –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ —Ä–∞–≤–Ω—ã –ø–æ `equals()` ‚Äî –∏—Ö `hashCode()` **–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º**.

### –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?

‚Üí `HashMap`, `HashSet`, `HashTable` –∏—Å–ø–æ–ª—å–∑—É—é—Ç `hashCode()` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è "–∫–æ—Ä–∑–∏–Ω—ã", –∞ `equals()` ‚Äî –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è.

### –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω:

```java
@Override
public boolean equals(Object o) {
    // ... –ª–æ–≥–∏–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
}

// ‚ùå –ó–∞–±—ã–ª–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å hashCode()
```

‚Üí –û–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç "–ø–æ—Ç–µ—Ä—è—Ç—å—Å—è" –≤ `HashMap`.

---

## üö´ –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `==` –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ ‚Üí —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è —Å—Å—ã–ª–∫–∏, –∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.
- –ó–∞–±—ã–ª–∏ `@Override` ‚Üí –º–æ–∂–Ω–æ —Å–ª—É—á–∞–π–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É, –∞ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ.
- –ù–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ `hashCode()` ‚Üí –ø—Ä–æ–±–ª–µ–º—ã —Å `HashMap`.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è –≤ `hashCode()` ‚Üí –æ–±—ä–µ–∫—Ç "—Å–ª–æ–º–∞–µ—Ç—Å—è" –≤ `HashSet`, –µ—Å–ª–∏ –ø–æ–ª–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è.

---

## üí• –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ (Overflow)

‚Üí –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ **–≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Ç–∏–ø–∞**.

### –ü—Ä–∏–º–µ—Ä —Å `int`:

```java
int max = Integer.MAX_VALUE; // 2147483647
int overflow = max + 1;      // ‚Üí -2147483648 (–ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ!)
System.out.println(overflow);
```

‚Üí –ù–∏–∫–∞–∫–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è ‚Äî –ø—Ä–æ—Å—Ç–æ "–∑–∞–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è" (–∫–∞–∫ –æ–¥–æ–º–µ—Ç—Ä –≤ –º–∞—à–∏–Ω–µ).

### –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å?

- –ò—Å–ø–æ–ª—å–∑—É–π `long` –¥–ª—è –±–æ–ª—å—à–∏—Ö —á–∏—Å–µ–ª.
- –ò—Å–ø–æ–ª—å–∑—É–π `Math.addExact()`, `Math.multiplyExact()` ‚Äî –±—Ä–æ—Å–∞—é—Ç `ArithmeticException` –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏.

```java
try {
    int result = Math.addExact(Integer.MAX_VALUE, 1);
} catch (ArithmeticException e) {
    System.out.println("–ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ!");
}
```

- –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `BigInteger`.

---

## üí∞ `BigDecimal` ‚Äî –¥–ª—è —Ç–æ—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (–¥–µ–Ω—å–≥–∏!)

‚Üí `float` –∏ `double` **–Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç** –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤ ‚Äî –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è.

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:

```java
double a = 0.1;
double b = 0.2;
System.out.println(a + b); // ‚Üí 0.30000000000000004 üò±
```

### –†–µ—à–µ–Ω–∏–µ ‚Äî `BigDecimal`:

```java
BigDecimal a = new BigDecimal("0.1");
BigDecimal b = new BigDecimal("0.2");
BigDecimal sum = a.add(b);
System.out.println(sum); // ‚Üí 0.3 ‚úÖ
```

> üí° **–í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π `BigDecimal` –∏–∑ `String`, –∞ –Ω–µ –∏–∑ `double`!**

```java
new BigDecimal(0.1)   // ‚Üê –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç—å double
new BigDecimal("0.1") // ‚Üê –ü–†–ê–í–ò–õ–¨–ù–û
```

### –û–ø–µ—Ä–∞—Ü–∏–∏:

```java
a.add(b)
a.subtract(b)
a.multiply(b)
a.divide(b, 2, RoundingMode.HALF_UP) // ‚Üê –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ!
```

‚Üí –ò—Å–ø–æ–ª—å–∑—É–π `BigDecimal` –¥–ª—è:
- –î–µ–Ω–µ–≥
- –ü—Ä–æ—Ü–µ–Ω—Ç–æ–≤
- –¢–æ—á–Ω—ã—Ö –Ω–∞—É—á–Ω—ã—Ö —Ä–∞—Å—á—ë—Ç–æ–≤

---

## üßµ `StringBuilder` ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏

‚Üí `String` –≤ Java **–Ω–µ–∏–∑–º–µ–Ω—è–µ–º (immutable)** ‚Üí –∫–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è `"a" + "b"` —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç.

### –ü—Ä–æ–±–ª–µ–º–∞:

```java
String result = "";
for (int i = 0; i < 1000; i++) {
    result += "a"; // ‚Üê —Å–æ–∑–¥–∞—ë—Ç 1000 –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤!
}
```

‚Üí –ú–µ–¥–ª–µ–Ω–Ω–æ –∏ —Ä–∞—Å—Ö–æ–¥—É–µ—Ç –ø–∞–º—è—Ç—å.

### –†–µ—à–µ–Ω–∏–µ ‚Äî `StringBuilder`:

```java
StringBuilder sb = new StringBuilder();
for (int i = 0; i < 1000; i++) {
    sb.append("a"); // ‚Üê –∏–∑–º–µ–Ω—è–µ—Ç –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç
}
String result = sb.toString();
```

‚Üí –í **100+ —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ** –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤.

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

```java
sb.append("text")
sb.insert(0, "prefix")
sb.delete(0, 5)
sb.reverse()
sb.toString()
```

> üí° –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `StringBuffer` (–Ω–æ –æ–Ω –º–µ–¥–ª–µ–Ω–Ω–µ–µ –∏–∑-–∑–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏).

---

## üí° –°–æ–≤–µ—Ç—ã

- –í—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–π `equals()` –∏ `hashCode()` **–≤–º–µ—Å—Ç–µ**.
- –ò—Å–ø–æ–ª—å–∑—É–π `java.util.Objects` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ —á–∏—Ç–∞–µ–º–æ.
- –í IntelliJ IDEA: `Alt + Insert` ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤ ‚Äî —ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è.
- –î–ª—è –¥–µ–Ω–µ–≥ ‚Äî —Ç–æ–ª—å–∫–æ `BigDecimal`.
- –î–ª—è –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫ –≤ —Ü–∏–∫–ª–µ ‚Äî —Ç–æ–ª—å–∫–æ `StringBuilder`.
- –ü—Ä–æ–≤–µ—Ä—è–π –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `Math.*Exact()`.

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Oracle: Primitive Data Types](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)
- [Oracle: BigDecimal](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html)
- [Oracle: StringBuilder](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html)
- [–•–∞–±—Ä: –ö–æ–Ω—Ç—Ä–∞–∫—Ç equals/hashCode](https://habr.com/ru/articles/168613/)
- [Baeldung: Guide to hashCode()](https://www.baeldung.com/java-hashcode)
- [Baeldung: BigDecimal](https://www.baeldung.com/java-bigdecimal)

```
